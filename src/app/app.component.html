<div>
	<button type="button" (click)="changeActualMenu(menu.USERS)">Users</button>
	<button type="button" (click)="changeActualMenu(menu.BOOKS)">Books</button>
	<button type="button" (click)="changeActualMenu(menu.BORROWINGS)">Borrowings</button>
</div>

<h3>{{ actualMenu }}</h3>

<ng-container *ngIf="actualMenu === menu.USERS">
	<!-- <h3>Users</h3> -->
	<form [formGroup]="userForm">
		<label>id:
			<input type="number" formControlName="id">
		</label>
		<label>name:
			<input type="text" formControlName="name">
		</label>
		<label>contact:
			<input type="text" formControlName="contact">
		</label>
		<button type="button" (click)="saveUser()">Pridaj</button>
	</form>
	
	<table *ngIf="users.length">
		<tr>
			<th>id</th>
			<th>name</th>
			<th>contact</th>
		</tr>
		<tr *ngFor="let user of users">
			<td>{{ user.id }}</td>
			<td>{{ user.name }}</td>
			<td>{{ user.contact }}</td>
		</tr>
	</table>
</ng-container>

<ng-container *ngIf="actualMenu === menu.BOOKS">
	<!-- <h3>Books</h3> -->
	<form [formGroup]="bookForm">
		<label>id:
			<input type="number" formControlName="id">
		</label>
		<label>name:
			<input type="text" formControlName="name">
		</label>
		<label>author:
			<input type="text" formControlName="author">
		</label>
		<label>available:
			<input type="number" formControlName="available">
		</label>
		<button type="button" (click)="saveBook()">Pridaj</button>
	</form>
	
	<table *ngIf="books.length">
		<tr>
			<th>id</th>
			<th>name</th>
			<th>author</th>
			<th>available</th>
		</tr>
		<tr *ngFor="let book of books">
			<td>{{ book.id }}</td>
			<td>{{ book.name }}</td>
			<td>{{ book.author }}</td>
			<td>{{ book.available }}</td>
		</tr>
	</table>
</ng-container>

<ng-container *ngIf="actualMenu === menu.GENRE">
	<!-- <h3>Genre</h3> -->
	<form [formGroup]="genreForm">
		<label>id:
			<input type="number" formControlName="id">
		</label>
		<label>name:
			<input type="text" formControlName="name">
		</label>
		<button type="button" (click)="saveGenre()">Pridaj</button>
	</form>
	
	<table *ngIf="genres.length">
		<tr>
			<th>id</th>
			<th>name</th>
		</tr>
		<tr *ngFor="let genre of genres">
			<td>{{ genre.id }}</td>
			<td>{{ genre.name }}</td>
		</tr>
	</table>
</ng-container>

<ng-container *ngIf="actualMenu === menu.BORROWINGS">

	<form [formGroup]="borrowingForm">
		<div class="selector">
			<h3>Select user:</h3>
			<div *ngFor="let user of users">
				<input type="radio" name="user" formControlName="user" [value]="user">{{ user.name }}
			</div>
		</div>
		<div class="selector">
			<h3>Select book:</h3>
			<div *ngFor="let book of books">
				<input type="radio" name="book" formControlName="book" [value]="book">{{ book.name }}
			</div>
		</div>

		<button (click)="saveBorrowing()">Pridaj výpožičku</button>
	</form>

	<table *ngIf="borrowings.length">
		<tr>
			<th>id</th>
			<th>user</th>
			<th>book</th>
		</tr>
		<tr *ngFor="let borrowing of borrowings">
			<td>{{ borrowing.id }}</td>
			<td>{{ borrowing.user.name }}</td>
			<td>{{ borrowing.book.name }}</td>
		</tr>
	</table>
</ng-container>